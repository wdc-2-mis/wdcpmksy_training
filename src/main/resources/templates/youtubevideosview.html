<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>WDCPMKSY media</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" 
          rel="stylesheet" 
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" 
          crossorigin="anonymous">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.0/xlsx.full.min.js"></script>	  
	 <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
          rel="stylesheet">
          
          <!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Bootstrap Icons -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
          
    <style type="text/css">
body {
  background: #f8f9fa;
  font-family: 'Poppins', sans-serif;
  color: #333;
}

h2 {
    text-align: center;
    font-weight: 600;
  margin: 2rem 0;
  color: #222;

}

/* Video Grid */
.video-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
    max-width: 1200px;
    margin: auto;
    padding: 0 2rem;
}

.video-item {
    cursor: pointer;
    border-radius: 12px;
    overflow: hidden;
    position: relative;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    transition: transform 0.3s ease,box-shadow 0.3s ease;
    
}

.video-item:hover {
    transform: translateY(-6px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    
}

.video-thumb-img {
    width: 100%;
   border-radius: 10px;
    object-fit: cover;
}
/* Pagination Styling */
.pagination .page-link {
  color: #333;
  border-radius: 50%;
  margin: 0 5px;
}

.pagination .page-item.active .page-link {
  background-color: #007bff;
  border-color: #007bff;
  color: #fff;
}

/* Modal arrows */
.modal-nav {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    font-size: 2.5rem;
    color: white;
    cursor: pointer;
    z-index: 1056;
    user-select: none;
}

.modal-nav.left {
    left: 15p
    x;
}

.modal-nav.right {
    right: 15px;
}

.modal-nav:hover {
    color: #0d6efd;
}

/* Close button */
.modal-close {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 1.8rem;
    color: white;
    cursor: pointer;
    z-index: 1056;
}

.modal-close:hover {
   color: #007bff;

}

/* Responsive */
@media (max-width: 992px) {
    .video-grid { grid-template-columns: repeat(2, 1fr); }
}

@media (max-width: 576px) {
    .video-grid { grid-template-columns: repeat(1, 1fr); }
}

		html, body {
				            height: 70%;
				            margin: 0;
				            display: flex;
				            flex-direction: column;
				        }

				        .navbar {
				            height: 100px;
				        }

				        .navbar-brand img {
				            height: 100%;
				            width: auto;
				        }

				        .navbar-brand {
				            display: flex;
				            align-items: center;
				        }

				        .navbar-brand .d-flex {
				            flex-direction: column;
				        }

				        .navbar-brand span {
				            font-size: 14px;
				        }

				        .navbar .text-left {
				            text-align: left;
				        }

				        .content {
				            flex: 1;
				            display: flex;
				            justify-content: center;
				            align-items: center;
				            background: url('images/login_image.png') no-repeat center center fixed;
				            background-size: cover;
				            background-position: center center;
				        }

				        .form-group.mb-3 {
				            margin-bottom: 20px;
				        }

				        .form-group span {
				            display: block;
				            margin-top: 10px;
				            text-align: center;
				        }
				        
				        footer {
            background-color: rgba(214, 245, 245, 0.7); /* Light cyan with 70% opacity, same as card */
            padding: 20px;
            text-align: center;
            font-size: 14px;
            color: #6c757d;
            position: relative;
            bottom: 0;
            width: 100%;
        }

        footer a {
            color: #007bff;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

				        .card {
				            background-color: rgba(214, 245, 245, 0.7); /* Light cyan with 70% opacity */
				            border: none;
				            color: black;
				            min-height: 400px;
				            width: 100%; /* Full width for smaller screens */
				            max-width: 600px; /* Increase the maximum width */
				            margin: 0 auto; /* Center the card horizontally */
				            padding: 20px; /* Optional: Add padding for better spacing */
				        }

				        header {
				            background-color: rgba(214, 245, 245, 0.7); /* Light cyan with 70% opacity, same as card */
				        }
						

						.main-menu {
						    list-style: none;
						    padding: 0;
						    margin: 0;
						}

						.main-menu > li {
						    position: relative;
						    display: inline-block;
						}

						/* Hide submenu by default */
						.sub-menu {
						    display: none;
						    position: absolute;
						    right: 0;
						    background: #fff;
						    min-width: 150px;
						    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
						    padding: 0;
						}

						/* Show submenu on hover */
						.main-menu li:hover > .sub-menu {
						    display: block;
						}

						.sub-menu li {
						    list-style: none;
						}

						.sub-menu li a {
						    display: block;
						    padding: 10px;
						    text-decoration: none;
						    color: #000;
						}

						.sub-menu li a:hover {
						    background: #f2f2f2;
						}


        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 20px;
        }

        #searchbar {
            margin: 10px;
            padding: 10px;
            border-radius: 5px;
            width: 50%;
            box-sizing: border-box;
        }

        
        .user-row {
            display: table-row;
        }
		
		
	   h2 {
	       text-align: center;
	     }
/* 		 .video-grid { */
/* 		     display: grid; */
/* 		     grid-template-columns: repeat(1, 1fr); */
/* 		     gap: 20px; */
/* 		 } */

/* 		 iframe { */
/* 		     width: 100%; */
/* 		     height: 250px; */
/* 		 } */


.dropdown-menu {
         min-width: 140px;
         text-align: center;
        }
		.navbar + .navbar {
  margin-top: 5px;   /* small gap between stacked navbars */
}
		
		.navbar-dark .nav-link {
  color: #fff !important;
  padding: 8px 15px;
}
.navbar-dark .nav-link:hover {
  background-color: rgba(255,255,255,0.2);
  border-radius: 5px;
}
		 
    </style> 
	
	<title>Image Gallery</title>
	
	  
</head>
<body>
	<nav class="navbar navbar-light bg-light">
  <div class="container-fluid d-flex justify-content-between align-items-center">
    <!-- Logo + Department -->
    <a class="navbar-brand d-flex align-items-center" href="#">
      <img src="images/ashoka-stambh.jpg" alt="Ashoka Stambh" class="me-2">
      <div class="d-flex flex-column">
        <span class="fw-bold">‡§≠‡•Ç‡§Æ‡§ø ‡§∏‡§Ç‡§∏‡§æ‡§ß‡§® ‡§µ‡§ø‡§≠‡§æ‡§ó</span>
        <span>DEPARTMENT OF LAND RESOURCES</span>
        <span>MINISTRY OF RURAL DEVELOPMENT</span>
      </div>
    </a>
    <!-- LMS Title -->
    <div class="mx-auto">
      <span class="h4">Learning Management System - WDCPMKSY2.0</span>
    </div>
    
   <div class="text-right">
            <select id="languageSwitcher" class="form-select form-select-sm">
                <option value="en">English</option>
                <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
            </select>
        </div>
    
  </div>
</nav>
	<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <div class="container-fluid">
    <div class="collapse navbar-collapse justify-content-end">
      <ul class="navbar-nav">
        <!-- Events Dropdown -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="eventsDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Events
          </a>
          <ul class="dropdown-menu" aria-labelledby="eventsDropdown">
            <li><a class="dropdown-item" th:href="@{/pictures}">üì∏ Pictures</a></li>
            <li><a class="dropdown-item" th:href="@{/videos}">üé• Videos</a></li>
          </ul>
        </li>

        <!-- Media Coverage -->
        <li class="nav-item">
          <a class="nav-link" th:href="@{/getMediaTypeDetails}">üì∞ Media Coverage</a>
        </li>

        <!-- Report -->
        <li class="nav-item">
          <a class="nav-link" th:href="@{/getStateWiseNoofUserDetail}">üìä Report</a>
        </li>

       <li class="nav-item">
          <a class="nav-link" th:href="@{/login}">üîë Login</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" th:href="@{/register}">üìù Register</a>
        </li>    
      </ul>
    </div>
  </div>
</nav>
<!--<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
         Welcome User 
        <span class="navbar-text text-white">
            <a class="nav-link" th:href="@{/login}"><b>Home</b></a>
        </span>
				
	</div>
</nav>		-->



<!-- Page Title -->
<h2>Videos</h2>

<!-- Video Grid -->
<div class="video-grid">
    <div th:each="video, stat : ${videos}"
         class="video-item"
         th:attr="data-video-id=${
    	#strings.contains(video.videoUrl, '&') 
        ? #strings.substringBefore(#strings.substringAfter(video.videoUrl, 'v='), '&') 
        : #strings.substringAfter(video.videoUrl, 'v=')}">

        <img th:src="${'https://img.youtube.com/vi/' 
              + (#strings.contains(video.videoUrl, '&') 
                  ? #strings.substringBefore(#strings.substringAfter(video.videoUrl, 'v='), '&') 
                  : #strings.substringAfter(video.videoUrl, 'v=')) 
              + '/hqdefault.jpg'}"
     		class="video-thumb-img">
     
     
    </div>
</div>

<!-- Pagination -->
<nav class="mt-4">
    <ul class="pagination justify-content-center">
        <li class="page-item" th:classappend="${currentPage == 0}? 'disabled'">
            <a class="page-link" th:href="@{/videos(page=${currentPage - 1})}">Previous</a>
        </li>

        <li class="page-item"
            th:each="i : ${#numbers.sequence(0, totalPages-1)}"
            th:classappend="${i == currentPage}? 'active'">
            <a class="page-link" th:href="@{/videos(page=${i})}" th:text="${i + 1}">1</a>
        </li>

        <li class="page-item"
            th:classappend="${currentPage + 1 == totalPages}? 'disabled'">
            <a class="page-link" th:href="@{/videos(page=${currentPage + 1})}">Next</a>
        </li>
    </ul>
</nav>

<!-- Video Modal -->
<div class="modal fade" id="videoModal" tabindex="-1">
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content bg-dark position-relative">

      <!-- Close Icon -->
      <i class="bi bi-x-circle modal-close" id="closeModal"></i>

      <!-- Left Arrow -->
      <i class="bi bi-chevron-left modal-nav left" id="prevVideo"></i>

      <!-- Right Arrow -->
      <i class="bi bi-chevron-right modal-nav right" id="nextVideo"></i>

      <div class="modal-body text-center p-0">
        <iframe id="modalVideo"
                width="100%"
                height="500"
                frameborder="0"
                allow="autoplay"
                allowfullscreen>
        </iframe>
      </div>

    </div>
  </div>
</div>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
document.addEventListener("DOMContentLoaded", function () {

    const videoItems = document.querySelectorAll(".video-item");
    const modalEl = document.getElementById("videoModal");
    const modal = new bootstrap.Modal(modalEl);
    const modalVideo = document.getElementById("modalVideo");

    const prevBtn = document.getElementById("prevVideo");
    const nextBtn = document.getElementById("nextVideo");
    const closeBtn = document.getElementById("closeModal");

    const videos = Array.from(videoItems).map(item =>
        item.getAttribute("data-video-id")
    );

    let currentIndex = 0;

    function loadVideo(index) {
        modalVideo.src =
            "https://www.youtube.com/embed/" + videos[index] + "?autoplay=1";
    }

    videoItems.forEach((item, index) => {
        item.addEventListener("click", () => {
            currentIndex = index;
            loadVideo(currentIndex);
            modal.show();
        });
    });

    nextBtn.addEventListener("click", () => {
        currentIndex = (currentIndex + 1) % videos.length;
        loadVideo(currentIndex);
    });

    prevBtn.addEventListener("click", () => {
        currentIndex = (currentIndex - 1 + videos.length) % videos.length;
        loadVideo(currentIndex);
    });

    closeBtn.addEventListener("click", () => {
        modal.hide();
    });

    modalEl.addEventListener("hidden.bs.modal", () => {
        modalVideo.src = "";
    });

});
</script>

<footer>
    <p>Content Owned by Department of Land Resources, Ministry of Rural Development</p>
    <p>Developed and hosted by National Informatics Centre, Ministry of Electronics & Information Technology, Government of India</p>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-MrcW6ZMFy78wYIqqTu64t8MO9sAu8bUAnrTwQeZ4iOz2K6c4e51tFKNhKTwtK5gx"
		crossorigin="anonymous"></script>
</body>
</html>